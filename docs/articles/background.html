<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Methodological details • hiddenmeta</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Methodological details">
<meta property="og:description" content="hiddenmeta">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-WBZEYLFB3F"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WBZEYLFB3F');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hiddenmeta</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/hiddenmeta-base.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/read-study-params.html">Reading study parameters</a>
    </li>
    <li>
      <a href="../articles/meta-example.html">Simple meta-analysis</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/background.html">Background</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Methodological details</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/gerasy1987/hiddenmeta/blob/HEAD/vignettes/background.Rmd" class="external-link"><code>vignettes/background.Rmd</code></a></small>
      <div class="hidden name"><code>background.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="sec-estimation-study">Individual studies<a class="anchor" aria-label="anchor" href="#sec-estimation-study"></a>
</h2>
<p>For each of the studies we are aiming to analyze all possible
sampling-estimation method pairs given the sampling strategies used.
Table below shows all sampling-estimation method pairs we consider in
the meta-analysis. Note that the first three sampling-estimation pairs
aim directly to estimate prevalence of hidden group within broader
population, while the rest of the methods estimate size of the hidden
group that can be transformed into prevalence estimate under assumption
that there is no uncertainty about the size of the population within
which the prevalence is being estimated.</p>
<table class="table">
<caption>Sampling-estimation pairs</caption>
<colgroup>
<col width="9%">
<col width="46%">
<col width="14%">
<col width="29%">
</colgroup>
<thead><tr class="header">
<th>Sampling</th>
<th>Estimation</th>
<th>Method references</th>
<th>[R] Package</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>Prevalence estimation</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><strong>PPS</strong></td>
<td>
<strong>HT</strong>: Horvitz-Thompson estimator of
<u><em>prevalence</em></u> with re-scaled bootstrap standard errors</td>
<td><span class="citation">Rust and Rao (<a href="#ref-rust1996variance" role="doc-biblioref">1996</a>)</span></td>
<td>Self-coded + <code>surveybootstrap</code> <span class="citation">(<a href="#ref-feehan2023surveybootstrap" role="doc-biblioref">Feehan and
Salganik 2023</a>)</span>
</td>
</tr>
<tr class="odd">
<td><strong>TLS</strong></td>
<td>
<strong>HT</strong>: Horvitz-Thompson estimator of
<u><em>prevalence</em></u> with re-scaled bootstrap standard errors
<span class="citation">(<a href="#ref-rust1996variance" role="doc-biblioref">Rust and Rao 1996</a>)</span>
</td>
<td><span class="citation">Rust and Rao (<a href="#ref-rust1996variance" role="doc-biblioref">1996</a>)</span></td>
<td>Self-coded + <code>surveybootstrap</code> <span class="citation">(<a href="#ref-feehan2023surveybootstrap" role="doc-biblioref">Feehan and
Salganik 2023</a>)</span>
</td>
</tr>
<tr class="even">
<td><strong>RDS</strong></td>
<td>
<strong>SS</strong>: Sequential sampling estimator of
<u><em>prevalence</em></u>
</td>
<td><span class="citation">Gile (<a href="#ref-gile2011improved" role="doc-biblioref">2011</a>)</span></td>
<td>
<code>RDS</code> <span class="citation">(<a href="#ref-handcock2023rds" role="doc-biblioref">Mark S. Handcock et al.
2023</a>)</span>
</td>
</tr>
<tr class="odd">
<td><strong>Population size estimation</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><strong>PPS</strong></td>
<td>
<strong>NSUM</strong>: Network scale-up estimatior of
<u><em>population size</em></u> with re-scaled bootstrap standard
errors</td>
<td>
<span class="citation">Killworth et al. (<a href="#ref-killworth1998social" role="doc-biblioref">1998</a>)</span>;
<span class="citation">Rust and Rao (<a href="#ref-rust1996variance" role="doc-biblioref">1996</a>)</span>
</td>
<td>
<code>networkreporting</code> <span class="citation">(<a href="#ref-feehan2021networkreporting" role="doc-biblioref">Feehan and
Salganik 2016</a>)</span> + <code>surveybootstrap</code> <span class="citation">(<a href="#ref-feehan2023surveybootstrap" role="doc-biblioref">Feehan and Salganik 2023</a>)</span>
</td>
</tr>
<tr class="odd">
<td><strong>TLS</strong></td>
<td>
<strong>NSUM</strong>: Network scale-up estimatior of
<u><em>population size</em></u> with re-scaled bootstrap standard errors
<span class="citation">(<a href="#ref-killworth1998social" role="doc-biblioref">Killworth et al. 1998</a>; <a href="#ref-rust1996variance" role="doc-biblioref">Rust and Rao
1996</a>)</span>
</td>
<td>
<span class="citation">Killworth et al. (<a href="#ref-killworth1998social" role="doc-biblioref">1998</a>)</span>;
<span class="citation">Rust and Rao (<a href="#ref-rust1996variance" role="doc-biblioref">1996</a>)</span>
</td>
<td>
<code>networkreporting</code> <span class="citation">(<a href="#ref-feehan2021networkreporting" role="doc-biblioref">Feehan and
Salganik 2016</a>)</span> + <code>surveybootstrap</code> <span class="citation">(<a href="#ref-feehan2023surveybootstrap" role="doc-biblioref">Feehan and Salganik 2023</a>)</span>
</td>
</tr>
<tr class="even">
<td><strong>TLS</strong></td>
<td>
<strong>RECAP *</strong>: Mark-recapture estimator of
<u><em>population size</em></u> with parametric standard errors</td>
<td><span class="citation">Hickman et al. (<a href="#ref-hickman2006estimating" role="doc-biblioref">2006</a>)</span></td>
<td>
<code>Rcapture</code> <span class="citation">(<a href="#ref-baillargeon2007rcapture" role="doc-biblioref">Baillargeon and
Rivest 2007</a>)</span>
</td>
</tr>
<tr class="odd">
<td><strong>RDS</strong></td>
<td>
<strong>SSPSE</strong>: Bayesian sequential sampling model of
<u><em>population size</em></u>
</td>
<td><span class="citation">Mark S. Handcock, Gile, and Mar (<a href="#ref-handcock2014" role="doc-biblioref">2014</a>)</span></td>
<td>
<code>sspse</code> <span class="citation">(<a href="#ref-handcock2022sspse" role="doc-biblioref">Mark S. Handcock et
al. 2022</a>)</span>
</td>
</tr>
<tr class="even">
<td><strong>RDS</strong></td>
<td>
<strong>CHORDS</strong>: Epidemiological model for <u><em>population
size</em></u> estimation</td>
<td><span class="citation">Berchenko, Rosenblatt, and Frost (<a href="#ref-berchenko2017" role="doc-biblioref">2017</a>)</span></td>
<td>
<code>chords</code> <span class="citation">(<a href="#ref-berchenko2017" role="doc-biblioref">Berchenko, Rosenblatt,
and Frost 2017</a>)</span>
</td>
</tr>
<tr class="odd">
<td><strong>RDS</strong></td>
<td>
<strong>MULTIPLIER</strong> *: Service-multiplier <u><em>population
size</em></u> estimator with bootstrap re-sampling standard errors</td>
<td>
<span class="citation">Hickman et al. (<a href="#ref-hickman2006estimating" role="doc-biblioref">2006</a>)</span>;
<span class="citation">Salganik (<a href="#ref-salganik2006variance" role="doc-biblioref">2006</a>)</span>
</td>
<td>Self-coded + <code>surveybootstrap</code> <span class="citation">(<a href="#ref-feehan2023surveybootstrap" role="doc-biblioref">Feehan and
Salganik 2023</a>)</span>
</td>
</tr>
<tr class="even">
<td><strong>RDS *</strong></td>
<td>
<strong>LINK</strong>: Link-tracing <u><em>population size</em></u>
estimator based on special type of RDS</td>
<td><span class="citation">Vincent and Thompson (<a href="#ref-vincent2019" role="doc-biblioref">2019</a>)</span></td>
<td>Self-coded based on <span class="citation">Vincent and Thompson (<a href="#ref-vincent2019" role="doc-biblioref">2019</a>)</span>
</td>
</tr>
</tbody>
</table>
<p>In the meta-analysis part we focus on comparison of prevalence
estimates produced by all the methods listed in the table. The sampling
and estimation methods marked with <code>*</code> in the table indicate
need for additional data or special type of sampling required for
corresponding method. Specifically, estimation using <em>TLS-RECAP</em>
requires recapture data to be collected beyond standard NSUM and direct
indicators. <em>RDS-MULTIPLIER</em> estimation requires data from a
provider of a service that is likely to be used by hidden group of
interest as well as direct questions about that service use asked from
hidden group members in RDS sample. Finally <em>RDS-LINK</em> estimation
requires a special type of RDS sample with more initial seeds but less
waves of link tracing and collection of data on recaptures in RDS
network.</p>
</div>
<div class="section level2">
<h2 id="sec-estimation-meta">Meta level<a class="anchor" aria-label="anchor" href="#sec-estimation-meta"></a>
</h2>
<p>We use a Bayesian model to assess the relative bias of methods. We
describe a model for <span class="math inline">\(N\)</span> sites and
<span class="math inline">\(K\)</span> estimation methods which could be
used at each site.</p>
<p>We are interested in the true prevalence, an <span class="math inline">\(N\)</span>-dimensional vector <span class="math inline">\(\alpha\)</span> and the bias associated with each
estimate relative to the benchmark procedure: a <span class="math inline">\(K\)</span>-dimensional vector <span class="math inline">\(\beta\)</span> (with the first element constrained
to unity).</p>
<p>The following code block describes the <code>stan</code> model used
to estimate <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span> give the findings across
studies.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_code</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st"></span></span>
<span><span class="st">data {</span></span>
<span><span class="st">  int&lt;lower=0&gt; N;</span></span>
<span><span class="st">  int&lt;lower=0&gt; K;</span></span>
<span><span class="st">  int&lt;lower=0&gt; n_ests;</span></span>
<span><span class="st">  real&lt;lower=0&gt; alpha_prior_mean[N];</span></span>
<span><span class="st">  real&lt;lower=0&gt; alpha_prior_sd[N];</span></span>
<span><span class="st">  real&lt;lower=0&gt; bias_prior_mean[K];</span></span>
<span><span class="st">  real&lt;lower=0&gt; bias_prior_sd[K];</span></span>
<span><span class="st">  int&lt;lower=0&gt; site[n_ests];</span></span>
<span><span class="st">  int&lt;lower=0&gt; design[n_ests];</span></span>
<span><span class="st">  vector&lt;lower=0&gt;[n_ests] ests;</span></span>
<span><span class="st">  vector&lt;lower=0&gt;[n_ests] ses;</span></span>
<span><span class="st">}</span></span>
<span><span class="st">parameters {</span></span>
<span><span class="st">  vector&lt;lower=0.01&gt;[K] bias;</span></span>
<span><span class="st">  vector&lt;lower=1&gt;[N] alpha;</span></span>
<span><span class="st">}</span></span>
<span><span class="st"></span></span>
<span><span class="st">model {</span></span>
<span><span class="st"></span></span>
<span><span class="st">  target += normal_lpdf(ests | bias[design].*alpha[site], ses);</span></span>
<span><span class="st">  alpha ~ normal(alpha_prior_mean, alpha_prior_sd);</span></span>
<span><span class="st">  bias ~ lognormal(log(bias_prior_mean), bias_prior_sd);</span></span>
<span><span class="st"></span></span>
<span><span class="st">}</span></span>
<span><span class="st">"</span></span></code></pre></div>
<p>The model block has three main elements:</p>
<ul>
<li>We assume that the likelihood of a given estimate <span class="math inline">\(\hat{\alpha}_{ij}\)</span> for estimand <span class="math inline">\(\alpha_i\)</span> using method <span class="math inline">\(j\)</span> in location <span class="math inline">\(i\)</span> is <span class="math inline">\(\phi(\hat{\alpha}_{ij}|\beta_j\alpha_{i},
\hat{\sigma_{ij}})\)</span>.</li>
<li>We have a (wide) prior on <span class="math inline">\(\alpha\)</span>: <span class="math inline">\(\alpha_i \sim f(\mu_{\alpha, i}, {\sigma}_{\alpha,
i})\)</span>, where the <span class="math inline">\(\mu_{\alpha,
i}\)</span> is gathered from teams, <span class="math inline">\(\sigma\_{\alpha}\)</span> is large, and <span class="math inline">\(f\)</span> denotes the normal distribution. Note
that we assume no relation between different elements of <span class="math inline">\(\alpha\)</span>—that is we do not make use of a
prior distribution on prevalence “in general.”</li>
<li>We have a (wide) prior on <span class="math inline">\(\beta_j\)</span>: <span class="math inline">\(\beta_j \sim g(\mu_{\beta_j},
{\sigma}_{\beta_j})\)</span>, where the <span class="math inline">\(\mu_{\beta_j}\)</span> is gathered from teams,
<span class="math inline">\(\sigma_{\alpha}\)</span> is large, and <span class="math inline">\(g\)</span> denotes the log-normal distribution.
Note that we assume no relation between different elements of <span class="math inline">\(\beta\)</span>—that is we do not make use of a
prior distribution about biases of different methods “in general.”</li>
</ul>
<p>The model thus builds in a critical assumption that the relative bias
of a method is constant across sites. It is this bias that is estimated.
To be clear the assumption is not that one method will always produce a
higher or lower estimate than another but simply that it is potentially
biased in that <em>in expectation</em> it produces a higher or lower
estimate than another. Bias is relative to the bias of the benchmark
method and also to the truth to the extent that the benchmark method is
itself unbiased.</p>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-baillargeon2007rcapture" class="csl-entry">
Baillargeon, Sophie, and Louis-Paul Rivest. 2007. <span>“Rcapture:
Loglinear Models for Capture-Recapture in r.”</span> <em>Journal of
Statistical Software</em> 19: 1–31.
</div>
<div id="ref-berchenko2017" class="csl-entry">
Berchenko, Yakir, Jonathan D. Rosenblatt, and Simon D. W. Frost. 2017.
<span>“Modeling and Analyzing Respondent-Driven Sampling as a Counting
Process.”</span> <em>Biometrics</em> 73 (4): 1189–98. <a href="https://doi.org/10.1111/biom.12678" class="external-link">https://doi.org/10.1111/biom.12678</a>.
</div>
<div id="ref-feehan2021networkreporting" class="csl-entry">
Feehan, DM, and MJ Salganik. 2016. <span>“Networkreporting: Tools for
Using Network Reporting Estimators [r Package Version 0.1.1].”</span>
</div>
<div id="ref-feehan2023surveybootstrap" class="csl-entry">
———. 2023. <span>“Surveybootstrap: Tools for the Bootstrap with Survey
Data [r Package Version 0.0.3].”</span>
</div>
<div id="ref-gile2011improved" class="csl-entry">
Gile, Krista J. 2011. <span>“Improved Inference for Respondent-Driven
Sampling Data with Application to HIV Prevalence Estimation.”</span>
<em>Journal of the American Statistical Association</em> 106 (493):
135–46.
</div>
<div id="ref-handcock2014" class="csl-entry">
Handcock, Mark S., Krista J. Gile, and Corinne M. Mar. 2014.
<span>“Estimating Hidden Population Size Using Respondent-Driven
Sampling Data.”</span> <em>Electronic Journal of Statistics</em> 8 (1):
1491–521. <a href="https://doi.org/10.1214/14-EJS923" class="external-link">https://doi.org/10.1214/14-EJS923</a>.
</div>
<div id="ref-handcock2023rds" class="csl-entry">
Handcock, Mark S, Krista J Gile, Ian E Fellows, and W Whipple Neely.
2023. <span>“RDS: Respondent-Driven Sampling Package.”</span>
</div>
<div id="ref-handcock2022sspse" class="csl-entry">
Handcock, Mark S, Krista J Gile, Brian Kim, and Katherine R McLaughlin.
2022. <span>“Sspse: Estimating Hidden Population Size Using Respondent
Driven Sampling.”</span>
</div>
<div id="ref-hickman2006estimating" class="csl-entry">
Hickman, Matthew, Vivian Hope, Lucy Platt, Vanessa Higgins, Mark Bellis,
Tim Rhodes, Colin Taylor, and Kate Tilling. 2006. <span>“Estimating
Prevalence of Injecting Drug Use: A Comparison of Multiplier and
Capture-Recapture Methods in Cities in England and Russia.”</span>
<em>Drug and Alcohol Review</em> 25 (2): 131–40.
</div>
<div id="ref-killworth1998social" class="csl-entry">
Killworth, Peter D, Eugene C Johnsen, Christopher McCarty, Gene Ann
Shelley, and H Russell Bernard. 1998. <span>“A Social Network Approach
to Estimating Seroprevalence in the United States.”</span> <em>Social
Networks</em> 20 (1): 23–50.
</div>
<div id="ref-rust1996variance" class="csl-entry">
Rust, Keith F, and JNK Rao. 1996. <span>“Variance Estimation for Complex
Surveys Using Replication Techniques.”</span> <em>Statistical Methods in
Medical Research</em> 5 (3): 283–310.
</div>
<div id="ref-salganik2006variance" class="csl-entry">
Salganik, Matthew J. 2006. <span>“Variance Estimation, Design Effects,
and Sample Size Calculations for Respondent-Driven Sampling.”</span>
<em>Journal of Urban Health</em> 83 (Suppl 1): 98.
</div>
<div id="ref-vincent2019" class="csl-entry">
Vincent, Kyle, and Steve Thompson. 2019. <span>“Estimating the Size and
Distribution of Networked Populations with Snowball Sampling.”</span> <a href="https://arxiv.org/abs/1402.4372" class="external-link">https://arxiv.org/abs/1402.4372</a>.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Georgiy Syunyaev, Macartan Humphreys.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
